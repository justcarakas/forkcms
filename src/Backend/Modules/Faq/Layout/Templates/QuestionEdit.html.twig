{% extends 'Layout/Templates/base.html.twig' %}
{% import 'Layout/Templates/macros.html.twig' as macro %}
{% form_theme form 'Faq/Layout/FormLayout.html.twig' %}

{% block actionbar %}{% endblock %}

{% block content %}
  {{ form_start(form) }}
  <ul class="nav nav-tabs" id="contentTabs" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="questionTabButton" data-toggle="tab" href="#questionTab" role="tab" aria-controls="questionTab" aria-selected="true">{{ 'lbl.Question'|trans|ucfirst }}</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="revisionTabButton" data-toggle="tab" href="#revisionTab" role="tab" aria-controls="revisionTab">{{ 'lbl.Revisions'|trans|ucfirst }}</a>
    </li>
  </ul>
  <div class="tab-content">
    <div class="tab-pane active" id="questionTab" role="tabpanel" aria-labelledby="contentTabButton">
      <div class="row">
        <div class="col">
          {{ form_row(form.category) }}
        </div>
        <div class="col">
          {{ form_row(form.visibleOnPhone) }}
          {{ form_row(form.visibleOnTablet) }}
          {{ form_row(form.visibleOnDesktop) }}
        </div>
      </div>
      {{ form_row(form.translations) }}
      <div class="row fork-module-actions">
        <div class="col-md-12">
          <div class="btn-toolbar justify-content-between">
            <div class="btn-group" role="group">
              {% if showFaqQuestionDelete %}
                {{ macro.buttonIcon('', 'trash', 'lbl.Delete'|trans|ucfirst, 'btn-danger', {"type":"button", "data-toggle":"modal", "data-target":"#confirmDelete"}) }}
              {% endif %}
              {{ macro.buttonIcon(geturl('QuestionIndex'), 'times', 'lbl.Cancel'|trans|ucfirst, 'btn-default') }}
            </div>
            <div class="btn-group" role="group">
              {{ form_widget(form.saveAsDraft) }}
              {{ macro.buttonIcon('', 'save', 'lbl.Save'|trans|ucfirst, 'btn-primary', {"type":"submit", "id":"editButton", "name":"edit"}) }}
            </div>
          </div>
        </div>
      </div>
      {{ form_end(form) }}

      {% if showFaqQuestionDelete %}
        {{ form_start(deleteForm) }}
        {{ form_row(deleteForm._token) }}
        {{ form_row(deleteForm.id) }}
        <div class="modal fade" id="confirmDelete" role="dialog" tabindex="-1" aria-hidden="true" aria-labelledby="confirmDeleteTitle">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h4 class="modal-title" id="confirmDeleteTitle">{{ 'lbl.Delete'|trans|ucfirst }}</h4>
              </div>
              <div class="modal-body">
                <p>{{ 'msg.ConfirmDelete'|trans|format(question)|raw }}</p>
              </div>
              <div class="modal-footer">
                {{ macro.buttonIcon('', 'times', 'lbl.Cancel'|trans|ucfirst, 'btn-default', {"type":"button", "data-dismiss":"modal"}) }}
                {{ macro.buttonIcon('', 'trash', 'lbl.Delete'|trans|ucfirst, 'btn-danger', {"type":"submit"}) }}
              </div>
            </div>
          </div>
        </div>
        {{ form_end(deleteForm) }}
      {% endif %}
    </div>
    <div class="tab-pane" id="revisionTab" role="tabpanel" aria-labelledby="revisionTabButton">
      {{ macro.dataGrid(revisionDataGrid) }}
    </div>
  </div>
{% endblock %}
